{"version":3,"sources":["../../src/config/winston.js"],"names":["require","createLogger","format","transports","options","file","level","filename","path","handleExceptions","simple","json","maxsize","maxFiles","colorize","console","logger","File","Console","exitOnError","stream","write","message","encoding","info"],"mappings":";;;;;;AAAA;;eAC6CA,QAAQ,SAAR,C;IAArCC,Y,YAAAA,Y;IAAcC,M,YAAAA,M;IAAQC,U,YAAAA,U;;AAE9B,IAAIC,UAAU;AACZC,QAAM;AACJC,WAAO,MADH;AAEJC,cAAaC,iBAAb,kBAFI;AAGJC,sBAAkB,IAHd;AAIJP,YAAQA,OAAOQ,MAAP,EAJJ;AAKJC,UAAM,IALF;AAMJC,aAAS,OANL,EAMc;AAClBC,cAAU,CAPN;AAQJC,cAAU;AARN,GADM;AAWZC,WAAS;AACPT,WAAO,OADA;AAEPG,sBAAkB,IAFX;AAGPE,UAAM,KAHC;AAIPG,cAAU;AAJH;AAXG,CAAd;;AAmBA,IAAIE,SAAS,IAAIf,YAAJ,CAAiB;AAC5BE,cAAY,CACV,IAAIA,WAAWc,IAAf,CAAoBb,QAAQC,IAA5B,CADU,EAEV,IAAIF,WAAWe,OAAf,CAAuBd,QAAQW,OAA/B,CAFU,CADgB;AAK5BI,eAAa,KALe,CAKR;AALQ,CAAjB,CAAb;;AAQAH,OAAOI,MAAP,GAAgB;AACdC,SAAO,eAASC,OAAT,EAAkBC,QAAlB,EAA4B;AACjCP,WAAOQ,IAAP,CAAYF,OAAZ;AACD;AAHa,CAAhB;;kBAMeN,M","file":"winston.js","sourcesContent":["import { path } from 'app-root-path';\nconst { createLogger, format, transports } = require('winston');\n\nvar options = {\n  file: {\n    level: 'info',\n    filename: `${path}/logs/app.log`,\n    handleExceptions: true,\n    format: format.simple(),\n    json: true,\n    maxsize: 5242880, // 5MB\n    maxFiles: 5,\n    colorize: true,\n  },\n  console: {\n    level: 'debug',\n    handleExceptions: true,\n    json: false,\n    colorize: true,\n  },\n};\n\nvar logger = new createLogger({\n  transports: [\n    new transports.File(options.file),\n    new transports.Console(options.console)\n  ],\n  exitOnError: false, // do not exit on handled exceptions\n});\n\nlogger.stream = {\n  write: function(message, encoding) {\n    logger.info(message);\n  },\n};\n\nexport default logger"]}